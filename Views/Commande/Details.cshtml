@model Commande
@{
    ViewData["Title"] = "Détails commande";
}
<div class="container py-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="fw-bold">Commande #@Model.Id</h3>
    </div>
    <div class="card mb-3 shadow-sm p-3">
        <ul class="list-group list-group-flush">
            @foreach(var item in Model.CommandeItems)
            {
                <li class="list-group-item d-flex justify-content-between">
                    @item.Type x @item.Quantite
                    <span>@(item.PrixUnitaire * item.Quantite) FCFA</span>
                </li>
            }
            @if(Model.Zone != null)
            {
                <li class="list-group-item d-flex justify-content-between">
                    Livraison zone @(Model.Zone.Nom)
                    <span>@Model.Zone.PrixLivraison ?? 0 FCFA</span>
                </li>
            }
        </ul>
    </div>
    <div class="card mb-3 shadow-sm p-3">
        <p><strong>Téléphone :</strong> @Model.Client?.Telephone</p>
        <p><strong>Type :</strong> @Model.Type</p>
        @if(Model.Zone != null)
        {
            <p><strong>Zone :</strong> @Model.Zone?.Nom</p>
        }
        <p><strong>Statut :</strong> 
            <span class="badge 
                @(Model.Etat == EtatCommande.EN_COURS ? "status-pending" :
                Model.Etat == EtatCommande.TERMINEE ? "status-completed" :
                Model.Etat == EtatCommande.ANNULEE ? "status-cancelled" :
                "status-waiting")">
                @Model.Etat
            </span>
        </p>
        <p><strong>Date :</strong> @Model.DateCommande.ToString("dd/MM/yyyy")</p>
    </div>
    <div class="card p-3 shadow-sm">
        <h5 class="fw-bold mb-0">Total : @Model.MontantTotal.ToString("N0") FCFA</h5>
    </div>
</div>
